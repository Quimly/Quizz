{% extends 'base.html.twig' %}

{% block stylesheets %}
	<link href="{{ asset('build/asset/question/addQuestion.css') }}" rel="stylesheet" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('jquery.min.js') }}"></script>
    <script src="{{ asset('build/asset/question/addQuestion.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
{% endblock %}

{% block title %}Hello{% endblock %}

{% block body %}
<p>Ajouter une question!</p>


    {{ form_start(form, {'attr': {'class': 'form_main', 'autocomplete': 'off' }}) }}

    {{ form_row(form.entitled, {'label': 'Intitulé'}) }}

    {% if image is defined %}

        <div class="question-img-wrap">

            {#<i class="far fa-times-circle"></i>#}
            <div class="question-img-header"><button class="img-delete-button">X</button></div>
            <img class="question-img edit" src="{{ asset(constant('PATH_IMAGE_QUESTION', constant) ~ image.url) }}">
        </div>
    {% endif %}

    {{ form_row(form.image.file, {'label': 'Image'}) }}

    <ul id="answer-fields-list"
        data-prototype="{{ form_widget(form.answers.vars.prototype)|e }}"
        data-widget-tags="{{ '<li></li>'|e }}">
        {% for answerField in form.answers %}
            <li>
                {% if imagesA[loop.index] is defined %}
                <img src="{{ asset(constant('PATH_IMAGE_ANSWER', constant) ~ imagesA[loop.index].url) }}">
                {% endif %}

                {{ form_errors(answerField) }}
                {{ form_widget(answerField) }}
            </li>
        {% endfor %}
    </ul>

    <a href="#"
       class="add-another-collection-widget"
       data-list="#answer-fields-list">Ajouter une réponse</a>

    <button type="submit">Créer!</button>
    {{ form_end(form) }}

{% endblock %}
